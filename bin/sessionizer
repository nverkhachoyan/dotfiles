#!/usr/bin/env zsh

# Directory where projects live
PROJECTS_DIR="$HOME/Projects"

# fzf to pick a project folder
project=$(find "$PROJECTS_DIR" -mindepth 1 -maxdepth 1 -type d \
  | fzf --height 40% --border --prompt="Project: " )

[[ -z "$project" ]] && exit 0

# Extract session name from directory name
session=$(basename "$project" | tr . _)

# If session exists, attach
if tmux has-session -t "$session" 2>/dev/null; then
  tmux attach -t "$session"
  exit 0
fi

# Create a new session
tmux new-session -s "$session" -c "$project"

